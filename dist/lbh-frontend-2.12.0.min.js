!function(t,o){"object"==typeof exports&&"undefined"!=typeof module?o(exports,require("leaflet")):"function"==typeof define&&define.amd?define("LBHFrontend",["exports","leaflet"],o):o(t.LBHFrontend={},t.L)}(this,function(t,o){"use strict";function e(t){this.$module=t,this.moduleId=this.$module.getAttribute("id"),this.accessToken=this.$module.dataset.accessToken,this.map=null,this.markerLat=this.$module.dataset.markerLat||null,this.markerLng=this.$module.dataset.markerLng||null,this.centreLat=this.$module.dataset.centreLat||this.markerLat||51.549,this.centreLng=this.$module.dataset.centreLng||this.markerLng||-.077928,this.maxZoom=this.$module.dataset.maxZoom||19,this.minZoom=this.$module.dataset.minZoom||12,this.initialZoom=this.$module.dataset.initialZoom||15,this.showZoomControl=this.$module.dataset.showZoomControl||!0,this.minLat=this.$module.dataset.minLat||51.491112,this.minLng=this.$module.dataset.minLng||-.275464,this.maxLat=this.$module.dataset.maxLat||51.607351,this.maxLng=this.$module.dataset.maxLng||.096129}e.prototype.initLeaflet=function(){this.map=o.map(this.moduleId,{zoomControl:!1,maxZoom:this.maxZoom,minZoom:this.minZoom,center:[this.centreLat,this.centreLng],zoom:this.initialZoom}),this.showZoomControl&&o.control.zoom({position:"topright"}).addTo(this.map)},e.prototype.setBounds=function(){this.map.setMaxBounds([[this.minLat,this.minLng],[this.maxLat,this.maxLng]])},e.prototype.initMapboxTiles=function(){var t=o.tileLayer("https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}",{fadeAnimation:!1,opacity:1,attribution:'Map data &copy; <a href="https://openstreetmap.org">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="https://mapbox.com">Mapbox</a>',maxZoom:this.maxZoom,id:"mapbox.streets",accessToken:this.accessToken});this.map.addLayer(t)},e.prototype.addMarker=function(){if(null!==this.markerLat&&null!==this.markerLng){var t=o.icon({iconUrl:"../../assets/images/contact/map-marker.svg",iconSize:[48,48],iconAnchor:[24,48]});o.marker([this.markerLat,this.markerLng],{icon:t}).addTo(this.map)}},e.prototype.init=function(){this.$module&&(this.initLeaflet(),this.setBounds(),this.initMapboxTiles(),this.addMarker())},t.initAll=function(t){!function(t,o){if(window.NodeList.prototype.forEach)return t.forEach(o);for(var e=0;e<t.length;e++)o.call(window,t[e],e,t)}(("undefined"!=typeof(t=void 0!==t?t:{}).scope?t.scope:document).querySelectorAll('[data-module="lbh-map"]'),function(t){new e(t).init()})},t.Map=e});
